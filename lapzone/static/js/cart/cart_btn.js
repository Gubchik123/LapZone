function replace_cart_btn_with_link_to_cart_detail_page(t){let e=document.createElement("a");e.href="/cart/",e.classList="btn btn-success ms-2",e.innerHTML="<ion-icon name='cart'></ion-icon>",t.parentNode.replaceChild(e,t)}function increase_cart_badge_count_of_products_in_cart(t){let e=document.querySelector("header ion-icon[name='cart']").nextElementSibling;e.textContent=+e.textContent+t}document.querySelectorAll(".cart").forEach(t=>{t.addEventListener("click",function(){let e=parseInt(prompt("Please enter the product quantity you'd like to add to your cart:"));(isNaN(e)||e<1)&&(e=1),fetch("/cart/add/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":csrf_token},body:JSON.stringify({quantity:e,product_id:+t.attributes["data-product_id"].nodeValue})}).then(t=>t.text()).then(a=>{"Product has successfully added to your cart."==a&&(replace_cart_btn_with_link_to_cart_detail_page(t),increase_cart_badge_count_of_products_in_cart(e)),alert(a)}).catch(t=>{console.log(t),alert("There was an error! Try again later.")})})});
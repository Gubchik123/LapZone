document.querySelectorAll(".like").forEach(e=>{e.addEventListener("click",function(){fetch(e.attributes["data-href"].nodeValue,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":csrf_token},body:JSON.stringify({user_id:user_id})}).then(e=>e.text()).then(t=>{let a=e.firstElementChild;"Product has successfully added to your wish list."==t&&(a.name="heart"),"Product has successfully deleted from your wish list."==t&&(a.name="heart-outline"),alert(t)}).catch(e=>{console.log(e),alert("There was an error! Try again later.")})})});
function replace_cart_btn_with_link_to_cart_detail_page(t){let e=document.createElement("a");e.href="/cart/",e.classList="btn btn-success ms-2",e.innerHTML="<ion-icon name='cart'></ion-icon>",t.parentNode.replaceChild(e,t)}function increase_cart_badge_count_of_products_in_cart(){let t=document.querySelector("header ion-icon[name='cart']").nextElementSibling;t.textContent=+t.textContent+1}document.querySelectorAll(".cart").forEach(t=>{t.addEventListener("click",function(){fetch("/cart/add/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":csrf_token},body:JSON.stringify({quantity:1,product_id:+t.attributes["data-product_id"].nodeValue})}).then(t=>t.text()).then(e=>{"Product has successfully added to your cart."==e&&(replace_cart_btn_with_link_to_cart_detail_page(t),increase_cart_badge_count_of_products_in_cart()),alert(e)}).catch(t=>{console.log(t),alert("There was an error! Try again later.")})})});